<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/veteran-facing-services-tools/component---src-pages-gatsby-configurations-mdx.9cb41922a86087a561fb.css">#___gatsby{margin-left:auto;margin-right:auto;width:980px}.sidebar{border-right:1px solid rgba(0,0,0,.07);overflow-y:auto;top:0;bottom:0;left:0;transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out;width:300px;z-index:20;position:fixed;background-color:#fff;color:#364149}.sidebar .search input{border:1px solid rgba(0,0,0,.07);margin:0;padding:0 10px}.sidebar h1{font-size:2rem;text-align:center;margin-bottom:20px;margin-top:10px;padding-bottom:11px;border-bottom:1px solid rgba(0,0,0,.07)}.sidebar h4{margin-left:25px}.sidebar .menu-list{list-style:none}.sidebar .menu-list a{text-decoration:none}.ContentArea{padding:60px 20px;position:absolute;top:0;right:0;bottom:0;left:300px;transition:left .25s ease}.ContentArea h2{margin-top:0;padding-bottom:20px;border-bottom:1px solid rgba(0,0,0,.07)}.ContentArea td:first-child,.ContentArea th:first-child{padding-left:10px}.ContentArea .rendered-component{border:1px solid rgba(0,0,0,.2);border-radius:5px;padding:10px}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.0.76"/><title data-react-helmet="true">VA.gov Developer&#x27;s Documentations</title><link data-react-helmet="true" rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossOrigin="anonymous"/><meta data-react-helmet="true" name="description" content="Template for creating design system documentatation"/><meta data-react-helmet="true" name="docsearch:language" content="en"/><meta data-react-helmet="true" name="docsearch:version" content="1.0.0"/><meta data-react-helmet="true" name="keywords" content="design system, style guide, documentation"/><link rel="manifest" href="/veteran-facing-services-tools/manifest.webmanifest"/><link as="script" rel="preload" href="/veteran-facing-services-tools/component---src-pages-gatsby-configurations-mdx-cb1c8c3d2d6ffff5b686.js"/><link as="script" rel="preload" href="/veteran-facing-services-tools/app-8c0b481d23ecb3f48d72.js"/><link as="script" rel="preload" href="/veteran-facing-services-tools/webpack-runtime-47ebeae3f869a84a81f7.js"/><link as="fetch" rel="preload" href="/veteran-facing-services-tools/static/d/611/path---gatsby-configurations-83-c-6b0-FR6gYXellvDXj97Y7L11cbnne4.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group">&#x27; &#x27;<!-- -->&#x27; &#x27;<aside class="sidebar"><div class="search"><div class="input-wrap"><input type="search" value="" placeholder="Type to search"/></div></div><h1>VA.gov Developer&#x27;s Documentations</h1><h4>Components</h4><ul class="menu-list"><li><a href="/veteran-facing-services-tools/accepttermsprompt/">AcceptTermsPrompt</a></li><li><a href="/veteran-facing-services-tools/additionalinfo/">AdditionalInfo</a></li></ul><h4>Documents</h4><ul class="menu-list"><li><a aria-current="page" class="" href="/veteran-facing-services-tools/gatsby-configurations/">Gatsby Configurations</a></li><li><a href="/veteran-facing-services-tools/how-to/">How to Add Documents</a></li><li><a href="/veteran-facing-services-tools/add-external-pages/">How to Add Pages from GitHub</a></li><li><a href="/veteran-facing-services-tools/internal-tools/">Internal Tools</a></li></ul><h4>External Documents</h4><ul class="menu-list"><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/2016-12-21_508_audit_report/">2016-12-21_508_Audit_Report</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/meeting-notes/2017-06-05-meeting-508-office.md/2017-06-05-meeting-508-office/">2017-06-05-meeting-508-office</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/508-testing-plan/">508-testing-plan</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/508officereviewlist/">508officeReviewList</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessing-staging/">Accessing-Staging</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/definition-severity-rubric/">DEFINITION-severity-rubric</a></li><li><a href="/veteran-facing-services-tools/work-practices/github-requests/">Github Requests</a></li><li><a href="/veteran-facing-services-tools/work-practices/how-to-file-bugs-tasks-and-questions/">How to File Bugs Tasks and Questions</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/mac_voiceover_guide/">Mac_VoiceOver_guide</a></li><li><a href="/veteran-facing-services-tools/work-practices/product_development_roles/">Product_Development_Roles</a></li><li><a href="/veteran-facing-services-tools/work-practices/product_team_process/">Product_Team_Process</a></li><li><a href="/veteran-facing-services-tools/work-practices/readme/">Work Practices/README</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/readme/">Work Practices/Accessibility and 508/README</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/research-screenreader-fieldset-legend-label/">RESEARCH-screenreader-fieldset-legend-label</a></li><li><a href="/veteran-facing-services-tools/work-practices/slack-requests/">Slack Requests</a></li><li><a href="/veteran-facing-services-tools/work-practices/team-norms/">Team Norms</a></li><li><a href="/veteran-facing-services-tools/work-practices/using-github-and-contributing-code/">Using GitHub and Contributing Code</a></li><li><a href="/veteran-facing-services-tools/work-practices/accessibility-and-508/a11y-508-launch-guidelines/">a11y-508-launch-guidelines</a></li><li><a href="/veteran-facing-services-tools/work-practices/listserv-management/">listserv-management</a></li><li><a href="/veteran-facing-services-tools/work-practices/mailing-lists/">mailing-lists</a></li><li><a href="/veteran-facing-services-tools/work-practices/norms/">norms</a></li><li><a href="/veteran-facing-services-tools/work-practices/org-chart/">org-chart</a></li><li><a href="/veteran-facing-services-tools/work-practices/team-descriptions/">team descriptions</a></li><li><a href="/veteran-facing-services-tools/work-practices/zenhub-description/">zenhub description</a></li></ul></aside>&#x27; &#x27;<div class="ContentArea docSearch-content"><div><h2>Gatsby Configurations</h2><h3>Why we chose Gatsby</h3><p>Gatsby was effectively chosen because it gave us the flexibility to create
documentation for React Components and also regular documentation for developers.
We wanted to be able to generate documentation that lived inside of the code and
also generate information on propTypes. We also wanted the flexibility of creating
markdown files for our normal documentation. Gatsby&#x27;s plugin eco-system gave us a
lot of flexibilities to customize it how we want it.</p><h3>What is Gatsby</h3><p><code>&quot;Gatsby is a blazing fast modern site generator for React.&quot;</code></p><p>Gatsby utilizes React, Node, and GraphQL to generate a blazing fast static websites.
You can find more information at <a href="https://www.gatsbyjs.org">https://www.gatsbyjs.org</a>.</p><h3>Our Custom Configurations</h3><p>There are a few things that we wanted that Gatsby did not have out of the box.
We wanted to be able to document all our React components and generate PropType
documentation. We also wanted to be able to transfer over all our markdown documentatation
from <code>vets.gov-team</code> repo. Using Gatsby plugin eco-system. Below are the plugins
and directions on how we inplemented them.</p><h3>Plugins</h3><p>All the plugins we use can be found in <code>gatsby-configs.js</code>.</p><ul><li><p><a href="https://www.gatsbyjs.org/packages/@benjie/gatsby-mdx/?=gatsby-mdx">gatsby-mdx</a></p><blockquote><p>MDX is a new templating format which uses both JSX(React templating) and markdown.
This gaves us the best of both worlds. Being able to write markdown to generate
quick documentation and use React components within that page.</p></blockquote></li><li><p><a href="https://www.gatsbyjs.org/packages/gatsby-plugin-sass/?=gatsby-plugin-sass">gatsby-plugin-sass</a></p><blockquote><p>Be able to use Sass/Scss in our project.</p></blockquote></li><li><p><a href="https://www.gatsbyjs.org/packages/gatsby-transformer-react-docgen/?=gatsby-transformer-react-docgen">gatsby-transformer-react-docgen</a></p><blockquote><p>Helps extracting information from React components, and generate documentation
from it. This is created by Facebook. This is what is used for
<a href="https://github.com/styleguidist/react-styleguidist">react-styleguidist</a>.</p></blockquote></li><li><p><a href="https://www.gatsbyjs.org/packages/gatsby-source-filesystem/">gatsby-source-filesystem</a></p><blockquote><p>A Gatsby source plugin for sourcing data into your Gatsby application from your local filesystem.</p></blockquote></li><li><p><a href="https://www.gatsbyjs.org/packages/gatsby-remark-images/">https://www.gatsbyjs.org/packages/gatsby-remark-images/</a></p><blockquote><p>We are using this to add images to our .mdx pages. This allows us to add
images to the folder and use it directly into our .mdx pages.</p></blockquote></li></ul><hr/><h3>How we setup <code>gatsby-mdx</code></h3><p>Plugin: <a href="https://www.gatsbyjs.org/packages/@benjie/gatsby-mdx">https://www.gatsbyjs.org/packages/@benjie/gatsby-mdx</a>
Guide: <a href="https://gatsby-mdx.netlify.com/guides">https://gatsby-mdx.netlify.com/guides</a></p><h4>Installation</h4><pre><code class="language-shell">yarn add gatsby-mdx
</code></pre><pre><code class="language-javascript">// gatsby-configs.js

module.exports = {
  plugins: [`gatsby-mdx`]
};
</code></pre><p>Once this is setup, you will be able to use both markdown and jsx on the page.
More information can be found on <a href="https://mdxjs.com/">https://mdxjs.com/</a></p><h4>Adding a Specific layout for your pages</h4><p>To add a specific layout to be used for the default pages. You need to change
the plugin to an Object with options like so.</p><p>Change this code:</p><pre><code>// gatsby-configs.js

module.exports = {
  plugins: [`gatsby-mdx`]
};
</code></pre><p>To this code:</p><pre><code>// gatsby-configs.js

module.exports = {
  plugins: [
    {
      resolve: `gatsby-mdx`,
      options: {
        defaultLayouts: {
          default: require.resolve(&quot;./src/layouts/layout.js&quot;),
        }
      }
    },
  ]
};
</code></pre><h4>Adding Your Own Folders</h4><p>By default gatsby-mdx will only look in the src/pages folder.
In this project we needed a special folder for all our components.
This folder lives in <code>formation-react/src/components</code>.
We need to add some configurations to be able to do this.</p><p><strong>Add the <code>gatsby-source-filesystem</code> plugin:</strong></p><p>This plugin can be added multiple times in the plugins object.
This plugin is used for sourcing data into your Gatsby application
from your local filesystem. Here we add a name and path to the
formation-react/src/components folder. This will now be added to our GraphQL
database so we can use it in our project.</p><pre><code class="language-javascript">// gatsby-configs.js

plugins: [
  {
    resolve: `gatsby-source-filesystem`,
    options: {
      path: `../formation-react/src/components`,
      name: &#x27;components&#x27;
    }
  },
]
</code></pre><p><strong>Creating Pages from GraphQL data:</strong></p><p>Now that we have this data in GraphQL, we need to tell Gatsby to make some
pages out of them. To do this we need to add some code to the gatsby-node.js
file. This is were you create pages or customize things before it get built.</p><p>first we export createPages and then do a query to GraphQL. You can test it
out at <a href="http://localhost:8000/___graphql">http://localhost:8000/___graphql</a>. This is an interactive interface
for GraphQL. Here we are getting all the mdx pages and then we are checking if the
document has a name property in the frontmatter. If it doesn&#x27;t we won&#x27;t create
a page for it.</p><pre><code class="language-javascript">// gatsby-node.js

exports.createPages = ({ graphql, actions }) =&gt; {
  const { createPage } = actions;
  return new Promise((resolve, reject) =&gt; {
    resolve(
      graphql(
        `
          {
            allMdx {
              edges {
                node {
                  id
                  frontmatter {
                    title
                    name
                  }
                  parent {
                    ... on File {
                      name
                      sourceInstanceName
                    }
                  }
                  code {
                    scope
                  }
                }
              }
            }
          }
        `
      ).then(result =&gt; {
        if (result.errors) {
          console.log(result.errors)
          reject(result.errors)
        }

        result.data.allMdx.edges.forEach(async ({ node }) =&gt; {
          if (node.frontmatter.name) { &lt;--- checking for frontmatter name property
            createPage({
              path: `/${node.parent.name.toLowerCase()}/`,
              component: path.resolve(&#x27;./src/layouts/module-components.js&#x27;),
              context: {
                id: node.id,
                name: node.frontmatter.name,
              },
            })
          }
        })
      })
    )
  })
}
</code></pre><p><strong>Sample of Query Results from Above Query:</strong></p><p>Here is a sample of what the output would be for the Query above. You&#x27;ll notice
that we get more then just the MDX files in the project. Not sure why this is
but that is what we get back when doing the Query.</p><pre><code class="language-javascript">{
  &quot;data&quot;: {
    &quot;allMdx&quot;: {
      &quot;edges&quot;: [
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;db665b4f-22a1-5485-8ef9-4f66f0da7e1b&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;AcceptTermsPrompt&quot;,
              &quot;name&quot;: &quot;AcceptTermsPrompt&quot;
            },
            &quot;parent&quot;: {
              &quot;name&quot;: &quot;AcceptTermsPrompt&quot;,
              &quot;sourceInstanceName&quot;: &quot;components&quot;
            },
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;fdaeaef8-da4f-53d8-a981-0ef2e4a9acf0&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;AdditionalInfo&quot;,
              &quot;name&quot;: &quot;AdditionalInfo&quot;
            },
            &quot;parent&quot;: {
              &quot;name&quot;: &quot;AdditionalInfo&quot;,
              &quot;sourceInstanceName&quot;: &quot;components&quot;
            },
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;17c10940-f231-560f-a391-e3a3173f1ed2&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;&quot;,
              &quot;name&quot;: null
            },
            &quot;parent&quot;: {},
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;3121c909-74b5-5ccc-9884-bd72709d7885&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;&quot;,
              &quot;name&quot;: null
            },
            &quot;parent&quot;: {},
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;6d019eeb-8db4-56ce-8bd7-bf14e618d096&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;How to Add Documents and Components&quot;,
              &quot;name&quot;: null
            },
            &quot;parent&quot;: {
              &quot;name&quot;: &quot;how-to&quot;,
              &quot;sourceInstanceName&quot;: &quot;pages&quot;
            },
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;2503f180-5b43-5470-9665-cff9f512d7cd&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;This is the index&quot;,
              &quot;name&quot;: null
            },
            &quot;parent&quot;: {
              &quot;name&quot;: &quot;index&quot;,
              &quot;sourceInstanceName&quot;: &quot;pages&quot;
            },
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;51b7ecd7-76e7-5ceb-ac57-d2a9c92494de&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;Internal Tools&quot;,
              &quot;name&quot;: null
            },
            &quot;parent&quot;: {
              &quot;name&quot;: &quot;internal-tools&quot;,
              &quot;sourceInstanceName&quot;: &quot;pages&quot;
            },
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        },
        {
          &quot;node&quot;: {
            &quot;id&quot;: &quot;b683ccc8-0ddd-5b23-8b5c-0cc8e2889aa9&quot;,
            &quot;frontmatter&quot;: {
              &quot;title&quot;: &quot;Notes on Writing MDX with Gatsby&quot;,
              &quot;name&quot;: null
            },
            &quot;parent&quot;: {
              &quot;name&quot;: &quot;new-component&quot;,
              &quot;sourceInstanceName&quot;: &quot;pages&quot;
            },
            &quot;code&quot;: {
              &quot;scope&quot;: &quot;&quot;
            }
          }
        }
      ]
    }
  }
}
</code></pre><p>You will need to create a path for the pages. This is done with the path property</p><pre><code class="language-javascript">createPage({
  path: `/${node.parent.name.toLowerCase()}/`, &lt;------- Create path here
  component: path.resolve(&#x27;./src/layouts/module-components.js&#x27;),
  context: {
    id: node.id,
    name: node.frontmatter.name,
  },
})
</code></pre><p>Set your component page layout</p><pre><code class="language-javascript">createPage({
  path: `/${node.parent.name.toLowerCase()}/`,
  component: path.resolve(&#x27;./src/layouts/module-components.js&#x27;), &lt;------- default layout
  context: {
    id: node.id,
    name: node.frontmatter.name,
  },
})
</code></pre><p>In our createPage you will see a context property. This will be available on
your page for quering with GraphQL.</p><pre><code class="language-javascript">createPage({
  path: `/${node.parent.name.toLowerCase()}/`,
  context: {
    id: node.id, &lt;--- available on your page for GraphQL queries
    name: node.frontmatter.name, &lt;--- available on your page for GraphQL queries
  },
})
</code></pre><p>Now that we have that setup we need to add the layout for our components pages.
If you go to <code>src/layouts/module-components.js</code> you can seee how we setu our pages
to be able to render MDX. Here is a sample of the JSX.</p><pre><code>  &lt;MDXProvider components={{ code: MyCodeComponent }}&gt;
    &lt;Layout&gt;
      &lt;div className=&quot;content&quot;&gt;
        {children}
        &lt;h2&gt;{data.componentMetadata.displayName}&lt;/h2&gt;
        &lt;p&gt;{data.componentMetadata.docblock}&lt;/p&gt;
        &lt;MDXRenderer tableOfContents={tableOfContents}&gt;
          {data.mdx.code.body}
        &lt;/MDXRenderer&gt;
        &lt;h2 style={{ marginTop: &#x27;2rem&#x27; }}&gt;Props:&lt;/h2&gt;
        &lt;PropsTable
          propMetaData={data.componentMetadata.childrenComponentProp}/&gt;
      &lt;/div&gt;
    &lt;/Layout&gt;
  &lt;/MDXProvider&gt;
</code></pre><h3>How do we automatically generate our propTypes</h3><p>Since one of the big requirements for our component documents is PropType
definitions, we had to make sure we can populate the propTypes dynamically.
To do this we are going to a module called
<a href="https://github.com/reactjs/react-docgen"><code>react-docgen</code></a>. This was created by
Facebook to handle documentation. What it does is parse component files and
generates data from your components into a json file. We will be using the
<a href="https://www.gatsbyjs.org/packages/gatsby-transformer-react-docgen/?=gatsby-transformer-react-docgen"><code>gatsby-transformer-react-docgen</code></a>
plugin to do this for us in gatsby. This will add the data into GraphQL so we
can query it in our pages.</p><p>This is what the query looks like in our layout page. The <code>childrenComponentProp</code>
is were we get our propType definitions.</p><pre><code class="language-javascript">export const pageQuery = graphql`
  query($id: String!, $name: String!) {
    mdx(id: { eq: $id }) {
      id
      code {
        body
      }
      tableOfContents
    }
    componentMetadata(displayName: { eq: $name }) {
      id
      displayName
      docblock
      doclets
      childrenComponentProp {
        name
        docblock
        required
        parentType {
          name
        }
        type {
          value
        }
        defaultValue {
          value
          computed
        }
      }
      composes
    }
  }
`;
</code></pre><h3>Adding Live Code</h3><p>Here is an example of how you add live editable code onto your page.
Note: This has not been fully implemented on our pages yet. This is something
we need to explore further if we really wants to have this feature.</p><pre><code>import React, {Component} from &quot;react&quot;;
import { LiveProvider, LiveEditor, LiveError, LivePreview } from &quot;react-live&quot;;
import { MDXProvider } from &#x27;@mdx-js/tag&#x27;

const MyCodeComponent = ({ children, ...props }) =&gt; (
  &lt;LiveProvider code={children}&gt;
    &lt;LiveEditor /&gt;
    &lt;LiveError /&gt;
    &lt;LivePreview /&gt;
  &lt;/LiveProvider&gt;
);

export default class MyPageLayout extends Component {
  render() {
    return &lt;MDXProvider components={{code: MyCodeComponent}}&gt;
      &lt;div&gt;{this.props.children}&lt;/div&gt;
    &lt;/MDXProvider&gt;
  }
}
</code></pre><h3>Image plugin for MDX files</h3><p>We are using a plugin to be able to use images in .mdx pages. This allows us
to access the images with relative paths.</p><p><a href="https://gatsby-mdx.netlify.com/guides/using-gatsby-remark-images">https://gatsby-mdx.netlify.com/guides/using-gatsby-remark-images</a></p></div></div>&#x27; &#x27;</div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-pages-gatsby-configurations-mdx","jsonName":"gatsby-configurations-83c","path":"/gatsby-configurations/"};window.dataPath="611/path---gatsby-configurations-83-c-6b0-FR6gYXellvDXj97Y7L11cbnne4";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8c0b481d23ecb3f48d72.js"],"component---src-layouts-external-layout-js":["/component---src-layouts-external-layout-js.9cb41922a86087a561fb.css","/component---src-layouts-external-layout-js-ad3d1c6e9f5e63ec924c.js"],"component---src-layouts-module-components-js":["/component---src-layouts-module-components-js.6e5b132fa4f14c680192.css","/component---src-layouts-module-components-js-b903f686a6fc0c029090.js"],"component---src-pages-404-js":["/component---src-pages-404-js.9cb41922a86087a561fb.css","/component---src-pages-404-js-4c09c37448478155b3ce.js"],"component---src-pages-add-external-pages-mdx":["/component---src-pages-add-external-pages-mdx.9cb41922a86087a561fb.css","/component---src-pages-add-external-pages-mdx-38ed0c4d4e2d6930058f.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx.9cb41922a86087a561fb.css","/component---src-pages-index-mdx-96555ca44c987b736974.js"],"component---src-pages-gatsby-configurations-mdx":["/component---src-pages-gatsby-configurations-mdx.9cb41922a86087a561fb.css","/component---src-pages-gatsby-configurations-mdx-cb1c8c3d2d6ffff5b686.js"],"component---src-pages-internal-tools-mdx":["/component---src-pages-internal-tools-mdx.9cb41922a86087a561fb.css","/component---src-pages-internal-tools-mdx-befe7836d39310e0f84b.js"],"component---src-pages-how-to-mdx":["/component---src-pages-how-to-mdx.9cb41922a86087a561fb.css","/component---src-pages-how-to-mdx-32611035f555abfcd2f8.js"],"pages-manifest":["/pages-manifest-bca2386f11b458dede1d.js"]};/*]]>*/</script><script src="/veteran-facing-services-tools/webpack-runtime-47ebeae3f869a84a81f7.js" async=""></script><script src="/veteran-facing-services-tools/app-8c0b481d23ecb3f48d72.js" async=""></script><script src="/veteran-facing-services-tools/component---src-pages-gatsby-configurations-mdx-cb1c8c3d2d6ffff5b686.js" async=""></script></body></html>