{"version":3,"sources":["webpack:///./src/pages/platform/tools/visual-regression-testing.mdx","webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/layouts/SidebarLayout.jsx"],"names":["layoutProps","MDXContent","props","_this","_React$Component","call","this","layout","DefaultLayout","render","_this$props","components","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_mdx_js_tag__WEBPACK_IMPORTED_MODULE_4__","name","Layout","Object","assign","id","parentName","React","Component","_frontmatter","ComponentList","react_default","gatsby_browser_entry","query","data","SidebarItems","items","edges","map","comp","href","node","path","context","_157057713","_ref","_ref$isSublist","isSublist","length","className","item","key","to","Sidebar","location","sidebarSection","sidebarData","sections","find","section","pathname","includes","SidebarLayout","children","__webpack_require__","d","__webpack_exports__","propTypes","PropTypes","isRequired"],"mappings":"8PAKMA,EAAc,GACCC,cACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,OAASC,IAFGL,8BAKnBM,OAAA,WAAS,IAAAC,EAIHJ,KAAKJ,MAFPS,EAFKD,EAELC,WACGT,EAHEU,IAAAF,EAAA,gBAKP,OAAOG,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,UAAUC,OAAQZ,KAAKC,OAAQP,YAAamB,OAAOC,OAAO,GAAIpB,EAAaE,GAAQS,WAAYA,GAEjHE,EAAAC,EAAAC,cAAA,MAAIM,GAAG,6BAAP,6BACAR,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,IAAIN,WAAYA,GAA7B,6HACAE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,IAAIN,WAAYA,GAA7B,iXACAE,EAAAC,EAAAC,cAAA,MAAIM,GAAG,cAAP,cACAR,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,GAC5BE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,SAASN,WAAYA,EAAYW,WAAW,MAAzD,qCAC1DT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,SAASN,WAAYA,EAAYW,WAAW,MAAzD,kFAAyJT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MACpQT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,iCAC1DT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAArD,2KAAsOT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,qDAAtO,sCAEJT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,SAASN,WAAYA,EAAYW,WAAW,MAAzD,iFAAwJT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MACnQT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,6CAC1DT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAArD,2KAAsOT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,oDAAtO,sCAEJT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,SAASN,WAAYA,EAAYW,WAAW,MAAzD,sBAC1DT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,SAASN,WAAYA,EAAYW,WAAW,MAAzD,8CAAqHT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAChOT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,wBAC1DT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAArD,6NAAwRT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,kDAAxR,cACAT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAArD,yEAEJT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,SAASN,WAAYA,EAAYW,WAAW,MAAzD,6CAAoHT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAC/NT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAAKT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,kCAC1DT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAArD,6NAAwRT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,MAA7D,iDAAxR,cACAT,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYW,WAAW,MAArD,0EAGNT,EAAAC,EAAAC,cAAA,MAAIM,GAAG,kCAAP,mCACAR,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,IAAIN,WAAYA,GAA7B,8OAEuBE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,aAAaN,WAAYA,EAAYW,WAAW,KAA7D,0BAFvB,wxCAxCkCC,IAAMC,WAyDjCC,EAAe,ixHCtD5B,SAASC,IACP,OACEC,EAAAb,EAAAC,cAACa,EAAA,EAAD,CACEC,MAAK,YAiBLpB,OAAQ,SAAAqB,GAAI,OACVH,EAAAb,EAAAC,cAACgB,EAAD,CACEC,MAAOF,EAAKnB,WAAWsB,MAAMC,IAAI,SAAAC,GAAI,MAAK,CACxCC,KAAMD,EAAKE,KAAKC,KAChBrB,KAAMkB,EAAKE,KAAKE,QAAQtB,WAtBhCa,KAAAU,IA8BW,SAAST,EAATU,GAAoD,IAA5BT,EAA4BS,EAA5BT,MAA4BU,EAAAD,EAArBE,iBAAqB,IAAAD,KACjE,OAAKV,EAAMY,OAKTjB,EAAAb,EAAAC,cAAA,MAAI8B,UAAU,uBACXb,EAAME,IAAI,SAAAY,GACT,OAAIA,EAAKd,MAELL,EAAAb,EAAAC,cAAA,MAAIgC,IAAKD,EAAK7B,MACX0B,GAAaG,EAAK7B,MACjB0B,GAAahB,EAAAb,EAAAC,cAAA,MAAI8B,UAAU,mBAAmBC,EAAK7B,MACrDU,EAAAb,EAAAC,cAACgB,EAAD,CAAcY,WAAS,EAACX,MAAOc,EAAKd,SAIvB,kBAAfc,EAAKjB,MAELF,EAAAb,EAAAC,cAAA,MAAIgC,IAAKD,EAAK7B,MACX0B,GAAaG,EAAK7B,MACjB0B,GAAahB,EAAAb,EAAAC,cAAA,MAAI8B,UAAU,mBAAmBC,EAAK7B,MACrDU,EAAAb,EAAAC,cAACW,EAAD,OAIFoB,EAAKV,KAELT,EAAAb,EAAAC,cAAA,MAAIgC,IAAKD,EAAK7B,MACZU,EAAAb,EAAAC,cAACa,EAAA,EAAD,CAAMoB,GAAIF,EAAKV,MAAOU,EAAK7B,OAI1BU,EAAAb,EAAAC,cAAA,MAAIgC,IAAKD,EAAK7B,MAAO6B,EAAK7B,KAA1B,gBA/BJ,2BCjCI,SAASgC,EAATR,GAA+B,IAAZS,EAAYT,EAAZS,SAC1BC,EAAiBC,IAAYC,SAASC,KAAK,SAAAC,GAAO,OACtDL,EAASM,SAASC,SAASF,EAAQnB,QAGrC,OAAKe,EAKHxB,EAAAb,EAAAC,cAAA,OAAK8B,UAAU,qCACblB,EAAAb,EAAAC,cAAA,OAAK8B,UAAU,kBACblB,EAAAb,EAAAC,cAACgB,EAAD,CAAcC,MAAOmB,EAAenB,UANjC,KCJI,SAAS0B,EAATjB,GAA+C,IAAtBkB,EAAsBlB,EAAtBkB,SAAUT,EAAYT,EAAZS,SAChD,OACEvB,EAAAb,EAAAC,cAACG,EAAA,EAAD,CAAQgC,SAAUA,GAChBvB,EAAAb,EAAAC,cAAA,OAAK8B,UAAU,cACblB,EAAAb,EAAAC,cAACkC,EAAD,CAASC,SAAUA,IACnBvB,EAAAb,EAAAC,cAAA,OACEM,GAAG,eACHwB,UAAU,2DAETc,KArBXC,EAAAC,EAAAC,EAAA,sBAAAJ,IA4BAA,EAAcK,UAAY,CACxBJ,SAAUK,IAAU3B,KAAK4B","file":"component---src-pages-platform-tools-visual-regression-testing-mdx-af892813375efab82194.js","sourcesContent":["import React from 'react'\nimport { MDXTag } from '@mdx-js/tag'\n\n\nimport DefaultLayout from \"/home/jenkins/workspace/ran-facing-services-tools_master/packages/documentation/src/layouts/SidebarLayout.jsx\";\nconst layoutProps = {};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = DefaultLayout;\n  }\n\n  render() {\n    const {\n      components,\n      ...props\n    } = this.props;\n    return <MDXTag name=\"wrapper\" Layout={this.layout} layoutProps={Object.assign({}, layoutProps, props)} components={components}>\n\n      <h1 id=\"visual-regression-testing\">Visual Regression Testing</h1>\n      <MDXTag name=\"p\" components={components}>{`This is the first iteration of visual regression testing. It is useful to detect side effects or scope of visual changes.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`It works by gathering the links for the site using the sitemap, then opening an chromium instance using Puppeteer to navigate throughout the site, capturing an image of each page. The developer must first create the baseline image set for comparisons (sometimes called the golden set), then after making their changes, run an additional task to make the comparison.`}</MDXTag>\n      <h1 id=\"how-to-use\">How to use</h1>\n      <MDXTag name=\"ol\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"strong\" components={components} parentName=\"li\">{`Start the local website instance`}</MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"strong\" components={components} parentName=\"li\">{`Generate your baseline/golden image set for desktop with the following command`}</MDXTag><MDXTag name=\"ul\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ul\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`npm run test:visual:baseline`}</MDXTag></MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Note - These images should be generated before your changes, so you may want to switch to the master branch before running this command. This will create the directory `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`site-root/logs/visual-regression/baseline/desktop`}</MDXTag>{` with all of the website images.`}</MDXTag>\n          </MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"strong\" components={components} parentName=\"li\">{`Generate your baseline/golden image set for mobile with the following command`}</MDXTag><MDXTag name=\"ul\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ul\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`npm run test:visual:baseline -- --mobile`}</MDXTag></MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Note - These images should be generated before your changes, so you may want to switch to the master branch before running this command. This will create the directory `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`site-root/logs/visual-regression/baseline/mobile`}</MDXTag>{` with all of the website images.`}</MDXTag>\n          </MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"strong\" components={components} parentName=\"li\">{`Make your changes`}</MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"strong\" components={components} parentName=\"li\">{`Run the visual regression test for desktop`}</MDXTag><MDXTag name=\"ul\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ul\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`npm run test:visual`}</MDXTag></MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Screenshots of the website (updated to have your changes) will be stored in memory and compared to the baseline images created in step 3. If the images are different, a \"diff\" image will be generated and stored in the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`site-root/logs/visual-regression/diffs/desktop`}</MDXTag>{` directory`}</MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`All pages that have changed will be outputted as test case failures`}</MDXTag>\n          </MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"strong\" components={components} parentName=\"li\">{`Run the visual regression test for mobile`}</MDXTag><MDXTag name=\"ul\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ul\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`npm run test:visual -- mobile`}</MDXTag></MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Screenshots of the website (updated to have your changes) will be stored in memory and compared to the baseline images created in step 3. If the images are different, a \"diff\" image will be generated and stored in the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`site-root/logs/visual-regression/diffs/mobile`}</MDXTag>{` directory`}</MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`All pages that have changed will be outputted as test case failures`}</MDXTag>\n          </MDXTag></MDXTag>\n      </MDXTag>\n      <h1 id=\"limitationsideas-going-forward\">Limitations/ideas going forward</h1>\n      <MDXTag name=\"p\" components={components}>{`Right now this is really limited to being useful for the developer, which I think is a good foundation if we decide to expand on it. Some thoughts -\n1. All screenshots are stored in a git-ignored directory\n- All images are stored in `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`logs/visual-regression`}</MDXTag>{`, with two subdirectories, one being for the baseline and the other for diffs. This was the minimal implementation and what I considered to be a good stopping point for the first iteration.\n- Do we want to include them in version control? And if so, will we store images using the commit SHA?\n2. Tests fail on all pages that don't match the baseline\n- This means that intentionally-changed pages are detected as test failures the same as pages that may have been changed visually as an unintended side affect.\n- If we want to plug this into our build pipeline, this will have to be addressed, meaning that we'll need a way for developers to sign off on pages that were intentionally changed.\n3. Does not scroll or resize the browser window\n- This means that with this current implementation, we're only testing it on the desktop viewport. It wouldn't be very difficult to change the window size and take new screenshots as part of the automated tests but I wanted to avoid overkill on the first iteration.\n4. Uses the sitemap to navigate throughout the site\n- Pages not included in the sitemap will not be evaluated by this tool.\n5. Does not interact with the page at all\n- This means that style for elements that are visible only after certain user interactions will not be evaluated.`}</MDXTag>\n           </MDXTag>;\n  }\n\n}\nexport const _frontmatter = {};\n    ","import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction ComponentList() {\n  return (\n    <StaticQuery\n      query={graphql`\n        query ComponentListQuery {\n          components: allSitePage(\n            filter: { context: { source: { eq: \"component\" } } }\n          ) {\n            edges {\n              node {\n                path\n                context {\n                  source\n                  name\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => (\n        <SidebarItems\n          items={data.components.edges.map(comp => ({\n            href: comp.node.path,\n            name: comp.node.context.name,\n          }))}\n        />\n      )}\n    />\n  );\n}\n\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && item.name}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        if (item.query === 'componentList') {\n          return (\n            <li key={item.name}>\n              {isSublist && item.name}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <ComponentList />\n            </li>\n          );\n        }\n        if (item.href) {\n          return (\n            <li key={item.name}>\n              <Link to={item.href}>{item.name}</Link>\n            </li>\n          );\n        }\n        return <li key={item.name}>{item.name} (future)</li>;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Layout from './Layout';\nimport Sidebar from '../components/sidebar/Sidebar';\n\n/**\n * Layout\n *\n * @class Layout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n"],"sourceRoot":""}